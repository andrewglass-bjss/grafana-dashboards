{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":false,"canStar":true,"slug":"deployment-slo-test-nolith","url":"/d/rsaYLii7k/deployment-slo-test-nolith","expires":"0001-01-01T00:00:00Z","created":"2021-07-07T07:20:12Z","updated":"2021-07-07T10:08:01Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":10,"hasAcl":false,"isFolder":false,"folderId":980,"folderTitle":"Playground - FOR TESTING PURPOSES ONLY","folderUrl":"/dashboards/f/playground-FOR-TESTING-ONLY/playground-for-testing-purposes-only","provisioned":false,"provisionedExternalId":""},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"iteration":1625651987077,"links":[],"panels":[{"datasource":"Global","fieldConfig":{"defaults":{"custom":{},"decimals":1,"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"red","value":null},{"color":"green","value":95}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":4,"w":4,"x":0,"y":0},"id":8,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^\\{job=\"delivery\\-metrics\"\\}$/","values":false},"textMode":"auto"},"pluginVersion":"7.2.0","targets":[{"expr":"sum(rate(delivery_deployment_duration_seconds_bucket{le=\"$target_slo\"}[$interval])) by (job)\n/\nsum(rate(delivery_deployment_duration_seconds_count[$interval])) by (job)","format":"time_series","instant":true,"interval":"","legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Apdex score","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"fieldConfig":{"defaults":{"custom":{},"unit":"percentunit"},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":4,"y":0},"hiddenSeries":false,"id":4,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.2.0","pointradius":0.5,"points":true,"renderer":"flot","seriesOverrides":[{"alias":"target","color":"#F2495C","dashes":true,"points":false},{"alias":"{job=\u0026quot;delivery-metrics\u0026quot;}","color":"#FADE2A"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(delivery_deployment_duration_seconds_bucket{le=\"$target_slo\"}[$interval])) by (job)\n/\nsum(rate(delivery_deployment_duration_seconds_count[$interval])) by (job)","interval":"","legendFormat":"","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"lt","value":0.95,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0.9,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Deployment SLO Apdex","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"","logBase":1,"max":"1.0","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"datasource":null,"fieldConfig":{"defaults":{"custom":{},"decimals":0,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"red","value":null},{"color":"green","value":1}]}},"overrides":[]},"gridPos":{"h":4,"w":4,"x":0,"y":4},"id":13,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["mean"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"7.2.0","targets":[{"expr":"increase(delivery_deployment_duration_seconds_count{job=\"delivery-metrics\"}[$interval])","format":"time_series","instant":true,"interval":"","legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"# deployments","type":"stat"},{"datasource":null,"fieldConfig":{"defaults":{"custom":{},"decimals":0,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"red","value":null},{"color":"orange","value":1},{"color":"#EAB839","value":2},{"color":"green","value":3}]}},"overrides":[]},"gridPos":{"h":4,"w":4,"x":0,"y":8},"id":2,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["mean"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"7.2.0","targets":[{"expr":"increase(delivery_deployment_duration_seconds_count{job=\"delivery-metrics\"}[1d])","format":"time_series","instant":true,"interval":"","legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"# deployments - last 24h","type":"stat"},{"datasource":null,"fieldConfig":{"defaults":{"custom":{},"decimals":0,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":4,"y":8},"id":12,"options":{"displayMode":"gradient","orientation":"auto","reduceOptions":{"calcs":["max"],"fields":"","values":false},"showUnfilled":true},"pluginVersion":"7.2.0","targets":[{"expr":"sum(\n  increase(\n    delivery_deployment_duration_seconds_bucket{job=\"delivery-metrics\"}[24h]\n  )\n) by (le)\n\n\n\n","format":"heatmap","instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{le}}","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Deployments x buckets over the last 24h","transformations":[],"type":"bargauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"description":"","fieldConfig":{"defaults":{"custom":{},"unit":"dthms"},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":16},"hiddenSeries":false,"id":10,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"7.2.0","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(increase(delivery_deployment_duration_seconds_sum{job=\"delivery-metrics\"}[$interval])) by (deployment_type,status)","interval":"","legendFormat":"","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Overall time spend on deployments","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"dthms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"schemaVersion":26,"style":"dark","tags":[],"templating":{"list":[{"auto":false,"auto_count":30,"auto_min":"10s","current":{"selected":true,"text":"12h","value":"12h"},"hide":0,"label":null,"name":"interval","options":[{"selected":false,"text":"8h","value":"8h"},{"selected":true,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"}],"query":"8h,12h,1d","queryValue":"","refresh":2,"skipUrlSync":false,"type":"interval"},{"allValue":null,"current":{"selected":true,"text":"19800","value":"19800"},"datasource":"Global","definition":"label_values(delivery_deployment_duration_seconds_bucket, le)","hide":0,"includeAll":false,"label":"target slo","multi":false,"name":"target_slo","options":[],"query":"label_values(delivery_deployment_duration_seconds_bucket, le)","refresh":1,"regex":"/\\d+/","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-2d","to":"now"},"timepicker":{},"timezone":"","title":"Deployment SLO test - nolith","uid":"rsaYLii7k","version":10}}