{"meta":{"type":"db","canSave":true,"canEdit":true,"canStar":true,"slug":"sidekiq-stats","expires":"0001-01-01T00:00:00Z","created":"2016-10-28T18:12:36Z","updated":"2018-05-23T12:17:54Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":134},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"hideControls":false,"id":null,"links":[],"refresh":"5m","rows":[{"collapse":false,"height":220,"panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus in Azure","editable":true,"error":false,"format":"none","gauge":{"maxValue":5000,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":5,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"sum(max(sidekiq_queue_size{environment=\"$environment\"}) by (name))","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"3000,4000","timeFrom":null,"timeShift":null,"title":"Total Enqueued Jobs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus in Azure","editable":true,"error":false,"format":"none","gauge":{"maxValue":300,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":11,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"sum(max(sidekiq_running_jobs_count{environment=\"$environment\"}) by (name))","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"200,240","timeFrom":null,"timeShift":null,"title":"Running Jobs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus in Azure","editable":true,"error":false,"format":"short","gauge":{"maxValue":1000,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":6,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"sum(max(sidekiq_jobs_to_be_retried_count{environment=\"$environment\"}) by (name))","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"500,800","timeFrom":null,"timeShift":null,"title":"Jobs to be retried","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus in Azure","description":"","editable":true,"error":false,"format":"none","gauge":{"maxValue":5000,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":19,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"sum(max(sidekiq_dead_jobs_total{environment=\"$environment\"}) by (name))","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"3000,4000","timeFrom":null,"timeShift":null,"title":"Total Dead Jobs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus in Azure","decimals":null,"editable":true,"error":false,"format":"percentunit","gauge":{"maxValue":1,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":18,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"avg(sum(instance_cpu:node_cpu_not_idle:rate5m{fqdn=~\"sidekiq.*\", environment=\"$environment\"}) without (cpu) / instance:node_cpus:count{fqdn=~\"sidekiq.*\", environment=\"$environment\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"0.5,0.7","timeFrom":null,"timeShift":null,"title":"AVG Fleet CPU Usage","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"Prometheus in Azure","decimals":null,"editable":true,"error":false,"format":"percentunit","gauge":{"maxValue":1,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":"","hideTimeOverride":true,"id":22,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"dsType":"influxdb","expr":"avg(up{tier=\"sv\", job=\"base-debian\",environment=\"$environment\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":240,"tags":[]}],"thresholds":"0.7,0.8","timeFrom":null,"timeShift":null,"title":"Sidekiq nodes availability","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Queues State","titleSize":"h6"},{"collapse":false,"height":240,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":14,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}) without (cpu) / instance:node_cpus:count{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"Best-effort - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":25,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{fqdn=~\"sidekiq.*\", environment=\"$environment\", priority=\"asap\"}) without (cpu) / instance:node_cpus:count{fqdn=~\"sidekiq.*\", environment=\"$environment\", priority=\"asap\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"ASAP - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}) without (cpu) / instance:node_cpus:count{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"Real-time - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":35,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}) without (cpu) / instance:node_cpus:count{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"Pullmirror - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":37,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}) without (cpu) / instance:node_cpus:count{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"Pipeline - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":40,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(instance_cpu:node_cpu_not_idle:rate5m{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}) without (cpu) / instance:node_cpus:count{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0.8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":0.6}],"timeFrom":null,"timeShift":null,"title":"Pages - CPU Usage %","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"CPU Usage","titleSize":"h6"},{"collapse":false,"height":241,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":13,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"Best-effort - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":23,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"asap\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"asap\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":60,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"ASAP - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":24,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"Real-time - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":36,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"Pullmirror - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"Pipeline - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":41,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Average","color":"#DEDAF7","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{fqdn}}","metric":"","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]},{"dsType":"influxdb","expr":"avg(node_load1{environment=\"$environment\", tier=\"sv\", priority=\"pages\"})","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Average","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":8},{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":4}],"timeFrom":null,"timeShift":null,"title":"Pages - Load Average","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Load Average","titleSize":"h6"},{"collapse":false,"height":191,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":42,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"besteffort\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Best-effort - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":43,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"asap\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"ASAP - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":44,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"realtime\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Real-time - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":45,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pullmirror\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Pullmirror - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":46,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pipeline\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Pipeline - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":0,"id":47,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"AVG","color":"#f9d9f9","linewidth":2}],"spaceLength":10,"span":2,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"})","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"{{fqdn}}","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"expr":"avg(1 - ((node_memory_MemFree_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"} + node_memory_Buffers_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"} + node_memory_Cached_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}) / node_memory_MemTotal_bytes{environment=\"$environment\", tier=\"sv\", priority=\"pages\"}))","format":"time_series","intervalFactor":2,"legendFormat":"AVG","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Pages - Memory usage","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Memory usage","titleSize":"h6"},{"collapse":false,"height":"250px","panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":9,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(sidekiq_queue_size{environment=\"$environment\"} and on (fqdn) gitlab:redis_master)","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"Total","metric":"sidekiq_enqueued_jobs_count","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":3000},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":4000}],"timeFrom":null,"timeShift":null,"title":"Total Enqueued Jobs","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":12,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(sidekiq_running_jobs_count{name!~\"(ActiveJob|Devise).*\", environment=\"$environment\"} and on (fqdn) gitlab:redis_master)","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"Total","metric":"sidekiq_enqueued_jobs_count","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":150},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":250}],"timeFrom":null,"timeShift":null,"title":"Total Running Jobs","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","decimals":null,"editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":3,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":false,"show":true,"sort":"max","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sidekiq_queue_size{environment=\"$environment\"} and on (fqdn) gitlab:redis_master","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{name}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":120,"tags":[]}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Sidekiq Queue Size","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":39,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":12,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"rate(sidekiq_running_jobs_count{name!~\"(ActiveJob|Devise).*\", environment=\"$environment\"}[1m]) and on (fqdn) gitlab:redis_master","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{name}}","metric":"sidekiq_enqueued_jobs_count","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":30,"tags":[]}],"thresholds":[{"colorMode":"warning","fill":false,"line":true,"op":"gt","value":150},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":250}],"timeFrom":null,"timeShift":null,"title":"Rate of Running Jobs","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Totals \u0026 Queue Size","titleSize":"h6"},{"collapse":true,"height":250,"panels":[{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":29,"links":[],"span":3,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.99, rate(sidekiq_jobs_completed_time_milliseconds{priority=\"besteffort\", environment=\"$environment\"}[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":1,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":2,"tags":[]}],"title":"Best-effort jobs completion time -  p99","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":1,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":25,"yBucketSize":null},{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":30,"links":[],"span":3,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.99, rate(sidekiq_jobs_completed_time_milliseconds{priority=\"asap\", environment=\"$environment\"}[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":1,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":2,"tags":[]}],"title":"ASAP jobs completion time -  p99","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":1,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":25,"yBucketSize":null},{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":31,"links":[],"span":3,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.99, rate(sidekiq_jobs_completed_time_milliseconds{priority=\"realtime\", environment=\"$environment\"}[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":1,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":2,"tags":[]}],"title":"Real-time jobs completion time -  p99","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":1,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":25,"yBucketSize":null},{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":34,"links":[],"span":3,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.99, rate(sidekiq_jobs_completed_time_milliseconds{priority=\"elasticsearch\", environment=\"$environment\"}[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":1,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":2,"tags":[]}],"title":"Elasticsearch jobs completion time -  p99","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":1,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":25,"yBucketSize":null}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Jobs completion time - p99","titleSize":"h6"},{"collapse":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","decimals":0,"editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":10,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(max(sidekiq_jobs_to_be_retried_count{environment=\"$environment\"}) by (name))","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"Total","metric":"sidekiq_enqueued_jobs_count","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Total jobs to be Retried","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","decimals":0,"editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":2,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"max(sidekiq_jobs_to_be_retried_count{environment=\"$environment\"}) by (name)","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{name}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Jobs to be Retried","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","decimals":0,"editable":true,"error":false,"fill":0,"grid":{},"height":"300px","id":1,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"show":true,"sort":"max","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":true,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sidekiq_running_jobs_count{name!~\"(ActiveJob|Devise).*\", environment=\"$environment\"} and on (fqdn) gitlab:redis_master","format":"time_series","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"","intervalFactor":2,"legendFormat":"{{name}}","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Running Jobs","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Jobs to Retry","titleSize":"h6"},{"collapse":true,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":1,"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(rate(sidekiq_jobs_returned_to_redis_total[5m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Jobs returned to Redis","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]},{"expr":"sum(rate(sidekiq_jobs_failed_total[5m]))","format":"time_series","intervalFactor":2,"legendFormat":"Failed jobs","refId":"B","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"rate of Job failures","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":1,"id":16,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"sum(rate(sidekiq_worker_ooms_total[5m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"Worker OOMs","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]},{"expr":"sum(rate(sidekiq_workers_terminated_total[5m])) by (worker)","format":"time_series","intervalFactor":2,"legendFormat":"{{worker}} Terminated","refId":"B","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Rate of Worker Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Job Failures and Errors (mtail)","titleSize":"h6"},{"collapse":true,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus in Azure","fill":1,"id":17,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":4,"stack":false,"steppedLine":false,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.50, sum(rate(sidekiq_jobs_completed_time_milliseconds[5m])) by (le))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"50th percentile","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]},{"expr":"histogram_quantile(0.95, sum(rate(sidekiq_jobs_completed_time_milliseconds[5m])) by (le))","format":"time_series","intervalFactor":2,"legendFormat":"95th percentile","refId":"B","step":4},{"expr":"histogram_quantile(0.99, sum(rate(sidekiq_jobs_completed_time_milliseconds[5m])) by (le))","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"99th percentile","refId":"C","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Job completion times","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":27,"links":[],"span":4,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.95, rate(sidekiq_jobs_completed_time_milliseconds[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]}],"title":"Job completion time -  p95","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":10,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":null,"yBucketSize":100},{"cards":{"cardPadding":null,"cardRound":null},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":"Prometheus in Azure","heatmap":{},"highlightCards":true,"id":28,"links":[],"span":4,"targets":[{"dsType":"influxdb","expr":"histogram_quantile(0.99, rate(sidekiq_jobs_completed_time_milliseconds[1m]))","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"intervalFactor":2,"legendFormat":"","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"step":4,"tags":[]}],"title":"Job completion time -  p99","tooltip":{"show":true,"showHistogram":true},"type":"heatmap","xAxis":{"show":true},"xBucketNumber":null,"xBucketSize":"","yAxis":{"decimals":null,"format":"ms","logBase":10,"max":null,"min":null,"show":true,"splitFactor":4},"yBucketNumber":null,"yBucketSize":100}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Job completion times (mtail)","titleSize":"h6"}],"schemaVersion":14,"style":"dark","tags":["sidekiq","triage"],"templating":{"list":[{"allValue":null,"current":{"text":"prd","value":"prd"},"datasource":"Prometheus in Azure","hide":0,"includeAll":false,"label":"Environment","multi":false,"name":"environment","options":[],"query":"label_values(up{fqdn=~\"sidekiq.*\"}, environment)","refresh":1,"regex":"","sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-3h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"utc","title":"Sidekiq Stats","version":134}}