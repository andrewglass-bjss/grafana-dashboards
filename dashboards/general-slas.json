{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":true,"slug":"general-slas","url":"/d/general-slas/general-slas","expires":"0001-01-01T00:00:00Z","created":"2019-07-29T13:28:51Z","updated":"2021-07-09T14:44:18Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":2240,"hasAcl":false,"isFolder":false,"folderId":699,"folderTitle":"General Metrics","folderUrl":"/dashboards/f/general/general-metrics","provisioned":false,"provisionedExternalId":""},"dashboard":{"__inputs":[],"__requires":[],"annotations":{"list":[]},"description":"Uploaded by https://gitlab.com/gitlab-com/runbooks/-/jobs/1412989631 at Fri Jul  9 14:44:17 UTC 2021","editable":false,"gnetId":null,"graphTooltip":1,"hideControls":false,"id":null,"links":[{"asDropdown":true,"icon":"external link","includeVars":true,"keepTime":true,"tags":["managed","service overview"],"targetBlank":false,"title":"Service Overview Dashboards","type":"dashboards","url":""},{"asDropdown":true,"icon":"external link","includeVars":false,"keepTime":true,"tags":"","targetBlank":false,"title":"Platform Triage","type":"link","url":"https://dashboards.gitlab.net/d/general-triage/platform-triage?orgId=1"}],"panels":[{"collapse":false,"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":2,"panels":[],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Overall System Availability","titleSize":"h6","type":"row"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":null,"links":[],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":1},"id":3,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[$__range]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[$__range]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[$__range]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[$__range]) * 1)\n)\n/\n16\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":""}],"title":"GitLab.com Availability","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":1},"id":4,"targets":[{"expr":"(\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[1d]) * 1)\n)\n/\n16\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"Calendar","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":1},"id":5,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(sla:gitlab:ratio{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":""}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence across all primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":1},"id":6,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[{"alias":"gitlab.com SLA","color":"#E7D551","zindex":3}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max((\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[1d]) * 5)\n  +\n  avg without(type, slo) (avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[1d]) * 1)\n)\n/\n16\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"gitlab.com SLA","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Overall SLA over time period - gitlab.com","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"collapse":false,"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":2000},"id":7,"panels":[],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"Primary Services","titleSize":"h6","type":"row"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"GitLab.com Web","links":[{"title":"web service: Overview Dashboard","url":"/d/web-main/web-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2101},"id":8,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2101},"id":9,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"web service: Overview Dashboard","url":"/d/web-main/web-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2101},"id":10,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2101},"id":11,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"web service: Overview Dashboard","url":"/d/web-main/web-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"GitLab.com Web: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"Git Access","links":[{"title":"git service: Overview Dashboard","url":"/d/git-main/git-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2106},"id":12,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2106},"id":13,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"git service: Overview Dashboard","url":"/d/git-main/git-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2106},"id":14,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2106},"id":15,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"git service: Overview Dashboard","url":"/d/git-main/git-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"git\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Git Access: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"GitLab API","links":[{"title":"api service: Overview Dashboard","url":"/d/api-main/api-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2111},"id":16,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2111},"id":17,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"api service: Overview Dashboard","url":"/d/api-main/api-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2111},"id":18,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2111},"id":19,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"api service: Overview Dashboard","url":"/d/api-main/api-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"api\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"GitLab API: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"CI Runners","links":[{"title":"ci-runners service: Overview Dashboard","url":"/d/ci-runners-main/ci-runners-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2116},"id":20,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"ci-runners\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2116},"id":21,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"ci-runners\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"ci-runners service: Overview Dashboard","url":"/d/ci-runners-main/ci-runners-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2116},"id":22,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"ci-runners\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2116},"id":23,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"ci-runners service: Overview Dashboard","url":"/d/ci-runners-main/ci-runners-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"ci-runners\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"CI Runners: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"Container Registry","links":[{"title":"registry service: Overview Dashboard","url":"/d/registry-main/registry-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2121},"id":24,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2121},"id":25,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"registry service: Overview Dashboard","url":"/d/registry-main/registry-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2121},"id":26,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2121},"id":27,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"registry service: Overview Dashboard","url":"/d/registry-main/registry-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"registry\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Container Registry: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":2,"displayName":"GitLab Pages","links":[{"title":"web-pages service: Overview Dashboard","url":"/d/web-pages-main/web-pages-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":0,"y":2126},"id":28,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web-pages\"}[$__range]),\n    1\n  )\n)\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"config":{"animationDuration":0,"cellPadding":"3","cellRadius":"2","cellSize":"11","colLimit":null,"displayLegend":false,"domain":"month","domainGutter":2,"hoverDecimals":2,"hoverUnitFormat":"percentunit","itemName":["percentunit","percentunit"],"label":{"position":"bottom","rotate":"null","width":60},"legendColors":{"base":"transparent","empty":"#444444","max":"#73BF69","min":"#F2495C"},"legendStr":"0.995","legendTitleFormat":{"inner":{},"lower":{},"upper":{}},"rowLimit":null,"subDomain":"day","subDomainTitleFormat":{"empty":"{date}","filled":"{date}"},"verticalOrientation":false},"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"gridPos":{"h":5,"w":4,"x":4,"y":2126},"id":29,"targets":[{"expr":"avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web-pages\"}[1d]),\n    1\n  )\n)\n","format":"time_series","instant":false,"interval":"1d","intervalFactor":3,"legendFormat":""}],"title":"","type":"neocat-cal-heatmap-panel"},{"datasource":"$PROMETHEUS_DS","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{},"decimals":1,"displayName":"Budget Spent","links":[{"title":"web-pages service: Overview Dashboard","url":"/d/web-pages-main/web-pages-overview?orgId=1\u0026${__url_time_range}"}],"mappings":[],"max":1,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":0},{"color":"light-red","value":0.95},{"color":"orange","value":0.99},{"color":"light-orange","value":0.995},{"color":"yellow","value":0.9994},{"color":"light-yellow","value":0.9995},{"color":"green","value":0.9998}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":4,"x":8,"y":2126},"id":30,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":true}},"pluginVersion":"7.0.3","targets":[{"expr":"(\n  1 -\n  avg(\n    clamp_max(\n      avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web-pages\"}[$__range]),\n      1\n    )\n  )\n) * $__range_ms\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"{{ type }}"}],"title":"","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$PROMETHEUS_DS","decimals":2,"description":"Rolling average SLO adherence for primary services. Higher is better.","fill":0,"gridPos":{"h":5,"w":12,"x":12,"y":2126},"id":31,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"max":true,"min":true,"rightSide":false,"show":false,"sideWidth":null,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"null","options":{"dataLinks":[{"title":"web-pages service: Overview Dashboard","url":"/d/web-pages-main/web-pages-overview?orgId=1\u0026${__url_time_range}"}]},"percentage":false,"pointradius":3,"points":true,"renderer":"flot","repeat":null,"seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"clamp_min(clamp_max(avg(\n  clamp_max(\n    avg_over_time(slo_observation_status{env=~\"ops|$environment\",environment=\"$environment\",monitor=~\"global|\",stage=\"main\",type=\"web-pages\"}[1d]),\n    1\n  )\n)\n,1),0)\n","format":"time_series","interval":"1d","intervalFactor":3,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[{"colorMode":"custom","fill":true,"fillColor":"rgba(242, 73, 92, 0.5)","line":false,"op":"lt","value":0.9995,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"GitLab Pages: SLA Trends ","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":"SLA","logBase":1,"max":1,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":1,"min":0,"show":false}]},{"content":"This dashboard shows the SLA trends for each of the _primary_ services in the GitLab fleet (\"primary\" services are those which are directly user-facing).\n\nRead more details on our [SLA policy is defined in the handbook](https://about.gitlab.com/handbook/engineering/monitoring/).\n\n* For each service we measure two key metrics/SLIs (Service Level Indicators): error-rate and apdex score\n* For each service, for each SLI, we have an SLO target\n  * For error-rate, the SLI should remain _below_ the SLO\n  * For apdex score, the SLI should remain _above_ the SLO\n* The SLA for each service is the percentage of time that the _both_ SLOs are being met\n* The SLA for GitLab.com is the average SLO across each primary service\n\n_To see instanteous SLI values for these services, visit the [`general-public-splashscreen`](d/general-public-splashscreen) dashboard._\n","datasource":null,"gridPos":{"h":10,"w":24,"x":0,"y":3001},"id":32,"mode":"markdown","title":"GitLab SLA Dashboard Explainer","type":"text"},{"content":"Made with ❤️ and [Grafonnet](https://github.com/grafana/grafonnet-lib). [Contribute to this dashboard on GitLab.com](https://gitlab.com/gitlab-com/runbooks/blob/master/dashboards/./general/slas.dashboard.jsonnet)\n","datasource":null,"gridPos":{"h":2,"w":24,"x":0,"y":110000},"id":33,"mode":"markdown","title":"Source","type":"text"}],"refresh":"","rows":[],"schemaVersion":16,"style":"light","tags":["managed","general","general","slas","service-levels"],"templating":{"list":[{"current":{"text":"Global","value":"Global"},"hide":0,"label":null,"name":"PROMETHEUS_DS","options":[],"query":"prometheus","refresh":1,"regex":"/(.*-gprd|Frank|Global|gprd-.*)/","type":"datasource"},{"allValue":null,"current":{"text":"gprd","value":"gprd"},"datasource":"$PROMETHEUS_DS","hide":0,"includeAll":false,"label":null,"multi":false,"name":"environment","options":[],"query":"label_values(gitlab_service_ops:rate, environment)","refresh":1,"regex":"","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1M/M","to":"now-1d/d"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"utc","title":"general: SLAs","uid":"general-slas","version":2240}}