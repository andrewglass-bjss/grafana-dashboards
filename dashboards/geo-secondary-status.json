{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":true,"slug":"geo-secondary-status","url":"/d/l8ifheiik/geo-secondary-status","expires":"0001-01-01T00:00:00Z","created":"2018-05-28T14:31:27Z","updated":"2020-03-17T08:57:43Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":32,"hasAcl":false,"isFolder":false,"folderId":188,"folderTitle":"Geo Service","folderUrl":"/dashboards/f/vAiBRCImz/geo-service","provisioned":false,"provisionedExternalId":""},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"iteration":1584429510459,"links":[{"icon":"external link","tags":["gcp-migration"],"type":"dashboards"}],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","decimals":0,"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":0,"y":0},"hiddenSeries":false,"id":1,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"min(geo_repositories_failed) by (environment)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"Repositories","refId":"A"},{"expr":"min(geo_wikis_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Wikis","refId":"B"},{"expr":"min(geo_lfs_objects_failed) by (environment)","format":"time_series","intervalFactor":1,"legendFormat":"LFS objects","refId":"C"},{"expr":"min(geo_attachments_failed) by (environment)","format":"time_series","intervalFactor":1,"legendFormat":"Attachments","refId":"D"},{"expr":"min(geo_job_artifacts_failed) by (environment)","legendFormat":"Job Artifacts","refId":"G"},{"expr":"min(geo_container_repositories_failed) by (environment)","legendFormat":"Container repositories","refId":"E"},{"expr":"min(geo_design_repositories_failed) by (environment)","legendFormat":"Designs","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Failures","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","decimals":0,"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":12,"y":0},"hiddenSeries":false,"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"max(geo_repositories - geo_repositories_synced - geo_repositories_failed)","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"Repositories","refId":"A"},{"expr":"max(geo_wikis - geo_wikis_synced - geo_wikis_failed)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Wikis","refId":"B"},{"expr":"max(geo_lfs_objects - geo_lfs_objects_synced - geo_lfs_objects_failed)","format":"time_series","intervalFactor":1,"legendFormat":"LFS objects","refId":"C"},{"expr":"max(geo_attachments - geo_attachments_synced - geo_attachments_failed)","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"Attachments","refId":"D"},{"expr":"max(geo_job_artifacts - geo_job_artifacts_synced - geo_job_artifacts_failed)","legendFormat":"Job Artifacts","refId":"G"},{"expr":"max(geo_container_repositories - geo_container_repositories_synced - geo_container_repositories_failed)","legendFormat":"Container repositories","refId":"E"},{"expr":"max(geo_design_repositories - geo_design_repositories_synced - geo_design_repositories_failed)","legendFormat":"Designs","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Out of Sync","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":7},"id":15,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Repository Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":7},"id":14,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_repositories - geo_repositories_synced - geo_repositories_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Repositories Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":7},"hiddenSeries":false,"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_repositories_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_repositories - geo_repositories_synced - geo_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Repositories","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":13},"id":16,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_wikis_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Wiki Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":13},"id":17,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_wikis - geo_wikis_synced - geo_wikis_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Wikis Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":13},"hiddenSeries":false,"id":10,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_wikis_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_wikis_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_wikis - geo_wikis_failed - geo_wikis_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Wikis","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":19},"id":22,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_attachments_failed)  by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Attachment Sync Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":19},"id":23,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"max(geo_attachments - geo_attachments_synced - geo_attachments_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Attachments Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":19},"hiddenSeries":false,"id":19,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_attachments_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_attachments_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_attachments - (geo_attachments_failed + geo_attachments_synced)) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Attachments","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":25},"id":24,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_lfs_objects_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"LFS Object Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":25},"id":25,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_lfs_objects - geo_lfs_objects_synced - geo_lfs_objects_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"LFS Objects Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":25},"hiddenSeries":false,"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_lfs_objects_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_lfs_objects_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_lfs_objects - geo_lfs_objects_failed - geo_lfs_objects_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"LFS objects","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":31},"id":26,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_job_artifacts_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Job Artifact Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":31},"id":27,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_job_artifacts - geo_job_artifacts_synced - geo_job_artifacts_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Job Artifacts Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":31},"hiddenSeries":false,"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_job_artifacts_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_job_artifacts_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_job_artifacts - (geo_job_artifacts_failed + geo_job_artifacts_synced)) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Job artifacts","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":37},"id":36,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_container_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Container repository Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":37},"id":37,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_container_repositories - geo_container_repositories_synced - geo_container_repositories_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Container repositories Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":37},"hiddenSeries":false,"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_container_repositories_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_container_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_container_repositories - (geo_container_repositories_failed + geo_container_repositories_synced)) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Container repositories","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":6,"w":5,"x":0,"y":43},"id":39,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":100,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"#d44a3a","value":1}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_design_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Design Failures","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","description":"","gridPos":{"h":6,"w":5,"x":5,"y":43},"id":40,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":1000,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":10},{"color":"#d44a3a","value":20}]},"unit":"none"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_design_repositories - geo_design_repositories_synced - geo_design_repositories_failed)","format":"time_series","intervalFactor":2,"refId":"A"}],"title":"Designs Out of Sync","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":14,"x":10,"y":43},"hiddenSeries":false,"id":41,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":true,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"min(geo_design_repositories_synced) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Synced","refId":"A"},{"expr":"min(geo_design_repositories_failed) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Failed","refId":"B"},{"expr":"min(geo_design_repositories - (geo_design_repositories_failed + geo_design_repositories_synced)) by (environment)","format":"time_series","intervalFactor":2,"legendFormat":"Out of sync","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Design","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":"100","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","description":"Number of events","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":0,"y":49},"hiddenSeries":false,"id":3,"interval":"1h","legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"min(delta(geo_event_log_max_id[$events_interval]))","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"Total","refId":"A"},{"expr":"min(delta(geo_repository_updated_max_id[$events_interval]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Updated","refId":"B"},{"expr":"min(delta(geo_repository_created_max_id[$events_interval]))","format":"time_series","hide":false,"instant":false,"intervalFactor":2,"legendFormat":"Created","refId":"C"},{"expr":"min(delta(geo_repository_renamed_max_id[$events_interval]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Renamed","refId":"E"},{"expr":"min(delta(geo_repository_deleted_max_id[$events_interval]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Deleted","refId":"D"},{"expr":"min(delta(hashed_storage_migrated_max_id[$events_interval]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Hashed migrated","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Geo repository events","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":12,"y":49},"hiddenSeries":false,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(delta(geo_lfs_object_deleted_max_id[1h])) by (evironment)","format":"time_series","intervalFactor":2,"legendFormat":"LFS objects deleted","refId":"A"},{"expr":"sum(delta(geo_job_artifact_deleted_max_id[1h])) by (evironment)","format":"time_series","intervalFactor":2,"legendFormat":"Job artifacts deleted","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Geo file events","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":5,"w":4,"x":0,"y":56},"id":6,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":600,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":120},{"color":"#d44a3a","value":300}]},"unit":"s"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"max(geo_db_replication_lag_seconds) by (environment)","format":"time_series","instant":false,"intervalFactor":2,"refId":"A"}],"title":"Geo db replication lag","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":4,"y":56},"hiddenSeries":false,"id":21,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"max(geo_db_replication_lag_seconds) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"DB replication lag ({{name}})","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"DB Replication Lag","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":1,"format":"dtdurations","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":5,"w":4,"x":16,"y":56},"id":7,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":600,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":120},{"color":"#d44a3a","value":300}]},"unit":"s"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_last_event_timestamp - geo_cursor_last_event_timestamp)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"","refId":"A"}],"title":"Geo event log lag","type":"gauge"},{"cacheTimeout":null,"datasource":"$app_prometheus","gridPos":{"h":5,"w":4,"x":20,"y":56},"id":8,"links":[],"options":{"fieldOptions":{"calcs":["lastNotNull"],"defaults":{"mappings":[{"id":0,"op":"=","text":"N/A","type":1,"value":"null"}],"max":500,"min":0,"nullValueMode":"connected","thresholds":{"mode":"absolute","steps":[{"color":"#299c46","value":null},{"color":"rgba(237, 129, 40, 0.89)","value":100},{"color":"#d44a3a","value":200}]},"unit":"short"},"overrides":[],"values":false},"orientation":"horizontal","showThresholdLabels":false,"showThresholdMarkers":true},"pluginVersion":"6.6.1","targets":[{"expr":"min(geo_last_event_id - geo_cursor_last_event_id)","format":"time_series","hide":false,"intervalFactor":2,"refId":"B"}],"title":"Geo event count lag","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":5,"w":24,"x":0,"y":61},"hiddenSeries":false,"id":20,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/.*mismatch/","dashLength":1,"dashes":true,"spaceLength":1,"yaxis":2},{"alias":"/.*failed/","linewidth":2,"yaxis":2}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"min(geo_repositories_verified) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"geo_repositories_verified ({{ name }})","refId":"A"},{"expr":"min(geo_repositories_verification_failed) by (name)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"geo_repositories_verification_failed ({{ name }})","refId":"B"},{"expr":"min(geo_wikis_verified) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"geo_wikis_verified ({{ name }})","refId":"C"},{"expr":"min(geo_wikis_verification_failed) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"geo_wikis_verification_failed ({{ name }})","refId":"D"},{"expr":"min(geo_repositories_checksum_mismatch) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"geo_repositories_checksum_mismatch ({{ name }})","refId":"E"},{"expr":"min(geo_wikis_checksum_mismatch) by (name)","format":"time_series","intervalFactor":2,"legendFormat":"geo_wikis_checksum_mismatch ({{ name }})","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Verification Status","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"none","label":"","logBase":1,"max":null,"min":"0","show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":5,"w":24,"x":0,"y":66},"hiddenSeries":false,"id":35,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"sort":null,"sortDesc":null,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/Repo/","stack":"A"},{"alias":"/Wiki/","dashLength":1,"dashes":true,"spaceLength":1,"stack":"B","yaxis":2}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"max((geo_repositories_verified - geo_repositories_verification_failed - geo_repositories_checksum_mismatch) / geo_repositories) by (geo_role)","format":"time_series","intervalFactor":2,"legendFormat":"Repo success ({{ geo_role }})","refId":"A"},{"expr":"max((geo_repositories_verification_failed - geo_repositories_checksum_mismatch) / geo_repositories) by (geo_role)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"Repo failed ({{ geo_role }})","refId":"B"},{"expr":"max(geo_repositories_checksum_mismatch / geo_repositories) by (geo_role)","format":"time_series","intervalFactor":2,"legendFormat":"Repo mismatch ({{ geo_role }})","refId":"E"},{"expr":"max((geo_wikis_verified - geo_wikis_verification_failed - geo_wikis_checksum_mismatch) / geo_wikis) by (geo_role)","format":"time_series","intervalFactor":2,"legendFormat":"Wiki success ({{ geo_role }})","refId":"C"},{"expr":"max((geo_wikis_verification_failed - geo_wikis_checksum_mismatch) / geo_wikis) by (geo_role)","format":"time_series","intervalFactor":2,"legendFormat":"Wiki failed ({{ geo_role }})","refId":"D"},{"expr":"max(geo_wikis_checksum_mismatch / geo_wikis) by (geo_role)","format":"time_series","intervalFactor":2,"legendFormat":"Wiki mismatch ({{ geo_role }})","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Verification Percentages","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"percentunit","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$app_prometheus","fill":1,"fillGradient":0,"gridPos":{"h":5,"w":24,"x":0,"y":71},"hiddenSeries":false,"id":31,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"min(geo_repositories_checked) by (environment)","format":"time_series","intervalFactor":1,"legendFormat":"checked","refId":"A"},{"expr":"min(geo_repositories_checked_failed) by (environment)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"failed","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Repo checks","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5m","schemaVersion":22,"style":"dark","tags":["geo"],"templating":{"list":[{"allValue":null,"current":{"selected":true,"text":"ops","value":"ops"},"hide":0,"includeAll":false,"label":"Environment","multi":false,"name":"environment","options":[{"selected":false,"text":"ops","value":"ops"},{"selected":false,"text":"gprd","value":"gprd"},{"selected":true,"text":"gstg","value":"gstg"}],"query":"ops,gprd,gstg","skipUrlSync":false,"type":"custom"},{"current":{"selected":true,"text":"prometheus-01-inf-ops","value":"prometheus-01-inf-ops"},"hide":2,"includeAll":false,"label":null,"multi":false,"name":"prometheus","options":[],"query":"prometheus","refresh":1,"regex":"/prometheus-01-inf-[[environment]]/","skipUrlSync":false,"type":"datasource"},{"current":{"text":"prometheus-app-01-inf-ops","value":"prometheus-app-01-inf-ops"},"hide":2,"includeAll":false,"label":null,"multi":false,"name":"app_prometheus","options":[],"query":"prometheus","refresh":1,"regex":"/prometheus-app-01-inf-[[environment]]/","skipUrlSync":false,"type":"datasource"},{"auto":true,"auto_count":30,"auto_min":"10s","current":{"text":"1h","value":"1h"},"hide":0,"label":"Events interval","name":"events_interval","options":[{"selected":false,"text":"auto","value":"$__auto_interval_events_interval"},{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"30m","value":"30m"},{"selected":true,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","refresh":2,"skipUrlSync":false,"type":"interval"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Geo Secondary status","uid":"l8ifheiik","version":32}}