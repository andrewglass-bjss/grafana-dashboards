{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":true,"slug":"platform-monitoring","url":"/d/Lp2pB9kZk/platform-monitoring","expires":"0001-01-01T00:00:00Z","created":"2019-05-01T14:18:13Z","updated":"2019-05-20T14:17:04Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":13,"hasAcl":false,"isFolder":false,"folderId":184,"folderTitle":".ONCE OFF","folderUrl":"/dashboards/f/kGgx9rIiz/once-off","provisioned":false},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"aliasColors":{},"bars":true,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":false,"linewidth":1,"links":[],"nullPointMode":"null","paceLength":10,"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"stack":false,"steppedLine":false,"targets":[{"expr":"avg((gitlab_service_ops:rate{environment=\"gprd\"} - gitlab_service_ops:rate:prediction) / gitlab_service_ops:rate:stddev_over_time_1w) by (type)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"QPS","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"series","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"gridPos":{"h":13,"w":10,"x":0,"y":8},"id":4,"interval":"","links":[],"polystat":{"animationSpeed":2500,"columnAutoSize":true,"columns":"","defaultClickThrough":"/d/26q8nTzZz/service-platform-metrics?var-type=${__cell_name}","defaultClickThroughSanitize":false,"displayLimit":100,"fontAutoScale":true,"fontSize":12,"fontType":"Roboto","globalDecimals":2,"globalDisplayMode":"all","globalDisplayTextTriggeredEmpty":"OK","globalOperatorName":"avg","globalUnitFormat":"s","gradientEnabled":false,"hexagonSortByDirection":"asc","hexagonSortByField":"name","maxMetrics":0,"polygonBorderColor":"black","polygonBorderSize":1,"polygonGlobalFillColor":"#0a50a1","radius":"","radiusAutoSize":true,"rowAutoSize":true,"rows":"","shape":"hexagon_pointed_top","tooltipDisplayMode":"all","tooltipDisplayTextTriggeredEmpty":"OK","tooltipFontSize":12,"tooltipFontType":"Roboto","tooltipPrimarySortDirection":"asc","tooltipPrimarySortField":"name","tooltipSecondarySortDirection":"desc","tooltipSecondarySortField":"value","tooltipTimestampEnabled":false},"savedComposites":[],"savedOverrides":[{"clickThrough":"","colors":["#299c46","#e5ac0e","#bf1b00","#ffffff"],"decimals":2,"enabled":true,"label":"OVERRIDE 1","metricName":"/.*/","operatorName":"avg","prefix":"","sanitizeURLEnabled":false,"scaledDecimals":null,"suffix":"","thresholds":[{"color":"#bf1b00","state":2,"value":0.9},{"color":"#e5ac0e","state":1,"value":0.99},{"color":"#299c46","state":0,"value":1}],"unitFormat":"s"}],"targets":[{"expr":"(1 - avg(avg_over_time(slo_observation_status{environment=\"gprd\"}[${__range_s}s])) by (environment, tier, type)) * ${__range_s}\n","format":"time_series","instant":true,"interval":"1m","intervalFactor":10,"legendFormat":"{{ type }}","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Combined","type":"grafana-polystat-panel"},{"aliasColors":{},"bars":true,"dashLength":10,"dashes":false,"fill":0,"gridPos":{"h":13,"w":14,"x":10,"y":8},"id":6,"interval":"","legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":false,"linewidth":1,"nullPointMode":"null","paceLength":10,"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"stack":true,"steppedLine":false,"targets":[{"expr":"avg(avg_over_time(slo_observation_status{environment=\"gprd\"}[$__interval])) by (environment, tier, type)\n","format":"time_series","interval":"1m","intervalFactor":10,"legendFormat":"{{ type }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Panel Title","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Platform Monitoring","uid":"Lp2pB9kZk","version":13}}