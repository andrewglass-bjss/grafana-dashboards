{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":true,"slug":"general-triage","url":"/d/1UpWp7dik/general-triage","expires":"0001-01-01T00:00:00Z","created":"2018-09-05T14:23:23Z","updated":"2018-09-12T23:00:20Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":77,"hasAcl":false,"isFolder":false,"folderId":618,"folderTitle":"WIP - Generalised Triage","folderUrl":"/dashboards/f/O-4a8shik/wip-generalised-triage","provisioned":false},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"","editable":true,"gnetId":null,"graphTooltip":1,"id":null,"iteration":1536793170826,"links":[{"icon":"external link","includeVars":true,"keepTime":true,"tags":["general triage"],"type":"dashboards"}],"panels":[{"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":55,"title":"Service Alerts","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":0,"y":1},"id":56,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":"type","repeatDirection":"h","repeatIteration":1536756146020,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"api","value":"api"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":2.4,"y":1},"id":57,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"git","value":"git"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":4.8,"y":1},"id":58,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"gitaly","value":"gitaly"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":7.199999999999999,"y":1},"id":59,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"haproxy","value":"haproxy"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":9.6,"y":1},"id":60,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"pgbouncer","value":"pgbouncer"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":12,"y":1},"id":61,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"postgres","value":"postgres"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":14.4,"y":1},"id":62,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"redis","value":"redis"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":16.8,"y":1},"id":63,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"registry","value":"registry"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":19.2,"y":1},"id":64,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"sidekiq","value":"sidekiq"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["#890f02","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"$prometheus_ds","format":"none","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":21.599999999999998,"y":1},"id":65,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":56,"scopedVars":{"type":{"selected":false,"text":"web","value":"web"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"max(max_over_time(ALERTS{environment=\"$environment\", type=\"$type\", alertstate=\"firing\"}[$__interval])) by (alertstate)","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"1,4","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":4},"id":44,"panels":[],"title":"Service Overview","type":"row"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":0,"y":5},"id":42,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":"type","repeatDirection":"h","scopedVars":{"type":{"selected":false,"text":"api","value":"api"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":2.4,"y":5},"id":66,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"git","value":"git"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":4.8,"y":5},"id":67,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"gitaly","value":"gitaly"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":7.199999999999999,"y":5},"id":68,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"haproxy","value":"haproxy"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":9.6,"y":5},"id":69,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"pgbouncer","value":"pgbouncer"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":12,"y":5},"id":70,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"postgres","value":"postgres"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":14.4,"y":5},"id":71,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"redis","value":"redis"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":16.8,"y":5},"id":72,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"registry","value":"registry"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":19.2,"y":5},"id":73,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"sidekiq","value":"sidekiq"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#d44a3a","rgba(237, 129, 40, 0.89)","#ffffff"],"datasource":"$prometheus_ds","format":"percentunit","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2.4,"x":21.599999999999998,"y":5},"id":74,"interval":null,"links":[{"dashUri":"db/general-triage-service","dashboard":"General Triage: Service","includeVars":true,"keepTime":true,"title":"$type Service","type":"dashboard"}],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":1,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"repeatDirection":"h","repeatIteration":1536793170826,"repeatPanelId":42,"scopedVars":{"type":{"selected":false,"text":"web","value":"web"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(gitlab_service_availability:ratio{environment=\"$environment\", type=\"$type\"}[$__interval]))","format":"time_series","instant":true,"interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0.90,0.999","title":"$type","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":8},"id":11,"panels":[],"title":"Availability","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$prometheus_ds","decimals":0,"fill":0,"gridPos":{"h":10,"w":24,"x":0,"y":9},"id":2,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":true,"min":true,"rightSide":true,"show":true,"sideWidth":450,"sort":"avg","sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"pgbouncer service"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"min(min_over_time(gitlab_service_availability:ratio{environment=\"$environment\"}[$__interval])) by (tier, type)","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"1m","intervalFactor":1,"legendFormat":"{{ type }} service","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"colorMode":"warning","fill":true,"line":false,"op":"lt","value":0.9,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":false,"op":"lt","value":0.75,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Service Availability","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"percentunit","label":"Availability","logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":23,"panels":[],"title":"Ops Rates","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$prometheus_ds","decimals":null,"fill":0,"gridPos":{"h":8,"w":24,"x":0,"y":20},"id":24,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":true,"min":true,"rightSide":true,"show":true,"sideWidth":450,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(avg_over_time(gitlab_service_ops:rate{environment=\"$environment\"}[$__interval])) by (tier, type)","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"1m","intervalFactor":1,"legendFormat":"{{ type }} service","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"colorMode":"warning","fill":true,"line":false,"op":"lt","value":0.9995,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":false,"op":"lt","value":0.99,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Service Operation Rates","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"ops","label":"Operations per Second (log10)","logBase":10,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":28},"id":30,"panels":[],"title":"Apdex","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$prometheus_ds","decimals":3,"fill":0,"gridPos":{"h":8,"w":24,"x":0,"y":29},"id":31,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":true,"min":true,"rightSide":true,"show":true,"sideWidth":450,"sort":"avg","sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg(avg_over_time(gitlab_service_apdex:ratio{environment=\"$environment\"}[$__interval])) by (tier, type) ","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"1m","intervalFactor":1,"legendFormat":"{{ type }} service","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[{"colorMode":"warning","fill":true,"line":false,"op":"lt","value":0.99,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":false,"op":"lt","value":0.9,"yaxis":"left"}],"timeFrom":null,"timeShift":null,"title":"Service Apdex Scores","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"percentunit","label":"Apdex Score","logBase":1,"max":"1","min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":37},"id":37,"panels":[],"title":"Error Rates","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"$prometheus_ds","decimals":null,"fill":0,"gridPos":{"h":8,"w":24,"x":0,"y":38},"id":38,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":true,"min":true,"rightSide":true,"show":true,"sideWidth":450,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(avg_over_time(gitlab_service_errors:rate{environment=\"$environment\"}[$__interval])) by (tier, type) * 60","format":"time_series","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"interval":"1m","intervalFactor":10,"legendFormat":"{{ type }} service","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Service Error Rates","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"ops","label":"Errors per Minute","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":false,"schemaVersion":16,"style":"dark","tags":["general triage"],"templating":{"list":[{"current":{"tags":[],"text":"Global","value":"Global"},"hide":0,"label":null,"name":"prometheus_ds","options":[],"query":"prometheus","refresh":1,"regex":"/.*gprd|Global/","type":"datasource"},{"allValue":null,"current":{"text":"gprd","value":"gprd"},"datasource":"$prometheus_ds","hide":0,"includeAll":false,"label":null,"multi":false,"name":"environment","options":[],"query":"label_values(up, environment)","refresh":2,"regex":"","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"$prometheus_ds","hide":0,"includeAll":true,"label":null,"multi":false,"name":"type","options":[],"query":"label_values(gitlab_service_availability:ratio{environment=\"$environment\"}, type)","refresh":2,"regex":"","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-6h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"utc","title":"General Triage","uid":"1UpWp7dik","version":77}}