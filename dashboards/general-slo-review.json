{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":true,"slug":"general-slo-review","url":"/d/general-slo-review/general-slo-review","expires":"0001-01-01T00:00:00Z","created":"2021-05-06T10:48:03Z","updated":"2021-05-06T12:24:22Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":8,"hasAcl":false,"isFolder":false,"folderId":699,"folderTitle":"General Metrics","folderUrl":"/dashboards/f/general/general-metrics","provisioned":false,"provisionedExternalId":""},"dashboard":{"__inputs":[],"__requires":[],"annotations":{"list":[]},"description":"Uploaded by andrewn at Thu  6 May 2021 12:24:21 UTC","editable":false,"gnetId":null,"graphTooltip":1,"hideControls":false,"id":null,"links":[{"asDropdown":true,"icon":"external link","includeVars":true,"keepTime":true,"tags":["managed","service overview"],"targetBlank":false,"title":"Service Overview Dashboards","type":"dashboards","url":""},{"asDropdown":true,"icon":"external link","includeVars":false,"keepTime":true,"tags":"","targetBlank":false,"title":"Platform Triage","type":"link","url":"https://dashboards.gitlab.net/d/general-triage/platform-triage?orgId=1"},{"asDropdown":true,"icon":"external link","includeVars":false,"keepTime":true,"tags":"","targetBlank":false,"title":"Capacity Planning","type":"link","url":"https://dashboards.gitlab.net/d/general-capacity-planning/general-capacity-planning?orgId=1"}],"panels":[{"collapse":false,"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":2,"panels":[],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":true,"title":"SLO Review","titleSize":"h6","type":"row"},{"columns":[],"datasource":"$PROMETHEUS_DS","description":"","gridPos":{"h":10,"w":24,"x":0,"y":100},"id":3,"links":[],"sort":{"col":4,"desc":false},"styles":[{"mappingType":1,"pattern":"Time","type":"hidden"},{"mappingType":1,"pattern":"tier","type":"hidden"},{"alias":"Service","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_apdex?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"type","type":"string","unit":"short"},{"alias":"Component","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_apdex?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"component","type":"string","unit":"short"},{"align":"auto","colorMode":"row","colors":["#C4162A","#000000","#E0B400"],"decimals":3,"mappingType":1,"pattern":"Value","thresholds":["0","0.1"],"type":"number","unit":"percentunit"}],"targets":[{"expr":"sort(\n  (\n    sum by (tier, type, component) (sum_over_time(gitlab_component_apdex:success:rate_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n    /\n    sum by (tier, type, component) (sum_over_time(gitlab_component_apdex:weight:score_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n  )\n  / on(type, tier) group_left()\n  slo:min:gitlab_service_apdex:ratio\n  - 1\n)\n","format":"table","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Apdex SLO Performance Review","type":"table"},{"columns":[],"datasource":"$PROMETHEUS_DS","description":"","gridPos":{"h":10,"w":24,"x":0,"y":110},"id":4,"links":[],"sort":{"col":4,"desc":false},"styles":[{"mappingType":1,"pattern":"Time","type":"hidden"},{"mappingType":1,"pattern":"tier","type":"hidden"},{"alias":"Service","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_error?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"type","type":"string","unit":"short"},{"alias":"Component","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_error?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"component","type":"string","unit":"short"},{"align":"auto","colorMode":"row","colors":["#C4162A","#000000","#E0B400"],"decimals":3,"mappingType":1,"pattern":"Value","thresholds":["0","0.1"],"type":"number","unit":"percentunit"}],"targets":[{"expr":"sort(\n  (\n    1 - (\n      sum by (tier, type, component) (sum_over_time(gitlab_component_errors:rate_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n      /\n      sum by (tier, type, component) (sum_over_time(gitlab_component_ops:rate_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n    )\n  )\n  / on (type, tier) group_left()\n  (1 - slo:max:events:gitlab_service_errors:ratio)\n  - 1\n)\n","format":"table","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Error SLO Performance Review","type":"table"},{"columns":[],"datasource":"$PROMETHEUS_DS","description":"","gridPos":{"h":10,"w":24,"x":0,"y":120},"id":5,"links":[],"sort":{"col":4,"desc":false},"styles":[{"mappingType":1,"pattern":"Time","type":"hidden"},{"mappingType":1,"pattern":"tier","type":"hidden"},{"alias":"Service","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_apdex?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"type","type":"string","unit":"short"},{"alias":"Component","decimals":2,"link":true,"linkTargetBlank":true,"linkTooltip":"SLO Analysis","linkUrl":"/d/alerts-component_slo_apdex?from=now-29d%2Fd\u0026to=now-1d%2Fd\u0026var-environment=gprd\u0026var-stage=main\u0026var-stage=main\u0026var-component=${__cell_1}\u0026var-type=${__cell_3}","mappingType":2,"pattern":"component","type":"string","unit":"short"},{"align":"auto","colorMode":"row","colors":["#C4162A","#000000","#E0B400"],"decimals":3,"mappingType":1,"pattern":"Value","thresholds":["0","0.1"],"type":"number","unit":"percentunit"}],"targets":[{"expr":"sort(\n  (\n    sum by (tier, type, component) (sum_over_time(gitlab_component_apdex:success:rate_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n    /\n    sum by (tier, type, component) (sum_over_time(gitlab_component_apdex:weight:score_1h{env=\"$environment\", stage=\"main\"}[$__range]))\n  )\n  unless on(type, tier)\n  slo:min:gitlab_service_apdex:ratio\n)\n","format":"table","instant":true,"interval":"1m","intervalFactor":3,"legendFormat":"","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Apdex SLIs with no SLO","type":"table"},{"content":"Made with ❤️ and [Grafonnet](https://github.com/grafana/grafonnet-lib). [Contribute to this dashboard on GitLab.com](https://gitlab.com/gitlab-com/runbooks/blob/master/dashboards/general/slo-review.jsonnet)\n","datasource":null,"gridPos":{"h":2,"w":24,"x":0,"y":110000},"id":6,"mode":"markdown","title":"Source","type":"text"}],"refresh":"","rows":[],"schemaVersion":16,"style":"light","tags":["managed","general","general","slos","service-levels"],"templating":{"list":[{"current":{"text":"Global","value":"Global"},"hide":0,"label":null,"name":"PROMETHEUS_DS","options":[],"query":"prometheus","refresh":1,"regex":"/(.*-gprd|Frank|Global|gprd-.*)/","type":"datasource"},{"allValue":null,"current":{"text":"gprd","value":"gprd"},"datasource":"$PROMETHEUS_DS","hide":0,"includeAll":false,"label":null,"multi":false,"name":"environment","options":[],"query":"label_values(gitlab_service_ops:rate, environment)","refresh":1,"regex":"","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-29d/d","to":"now-1d/d"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"utc","title":"general: SLO Review","uid":"general-slo-review","version":8}}