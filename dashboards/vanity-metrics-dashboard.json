{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":true,"slug":"vanity-metrics-dashboard","url":"/d/vanity-metrics/vanity-metrics-dashboard","expires":"0001-01-01T00:00:00Z","created":"2020-11-24T08:50:13Z","updated":"2020-11-24T08:50:13Z","updatedBy":"ops-contact@gitlab.com","createdBy":"ops-contact@gitlab.com","version":1,"hasAcl":false,"isFolder":false,"folderId":0,"folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":""},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":22,"panels":[],"title":"Storage","type":"row"},{"content":"# Postgres Storage\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":0,"y":1},"id":38,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# Git Storage\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":8,"y":1},"id":39,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":2,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":4},"id":5,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"avg(node_filesystem_size_bytes{mountpoint=\"/var/opt/gitlab\", type=\"patroni\", environment=\"gprd\"} - node_filesystem_avail_bytes{mountpoint=\"/var/opt/gitlab\", type=\"patroni\", environment=\"gprd\"})","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Postgres Database Size","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":4},"id":4,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(node_filesystem_size_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"} - node_filesystem_avail_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"})","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Allocated Git Storage","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"description":"Additional postgres storage allocated per day","format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":9},"id":23,"interval":"","links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" per day","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"max((node_filesystem_avail_bytes{type=\"patroni\", mountpoint=\"/var/opt/gitlab\", environment=\"gprd\"} offset 1w) - node_filesystem_avail_bytes{type=\"patroni\", mountpoint=\"/var/opt/gitlab\", environment=\"gprd\"}) / 7","format":"time_series","interval":"","intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Δ Average Daily Postgres Delta","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"description":"Additional git storage allocated per day","format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":9},"id":24,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" per day","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"(\n\nsum(node_filesystem_size_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"} - (node_filesystem_size_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"} offset 1w))\n\n- \n\nsum(node_filesystem_avail_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"} - (node_filesystem_avail_bytes{mountpoint=\"/var/opt/gitlab\", type=\"gitaly\", environment=\"gprd\"} offset 1w))\n\n) / 7","format":"time_series","interval":"","intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Δ Average Allocated Git Storage Daily Delta","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":14},"id":19,"panels":[],"title":"Performance","type":"row"},{"content":"# Web Performance (https)\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":0,"y":15},"id":35,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# API Performance (https)\n\n---------------------------","gridPos":{"h":3,"w":7,"x":8,"y":15},"id":36,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# Git Backend Performance (gitaly)\n\n---------------------------","gridPos":{"h":3,"w":7,"x":16,"y":15},"id":37,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":18},"id":12,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-web\"}[$__interval]))","format":"time_series","instant":true,"intervalFactor":2,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Web Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":18},"id":29,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-api\"}[$__interval]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","instant":true,"intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current API Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":16,"y":18},"id":59,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\"}[$__interval]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","instant":true,"intervalFactor":4,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Git Backend Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":23},"id":15,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-web\"}[7d]))","format":"time_series","instant":true,"intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Daily Web Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":23},"id":30,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-api\"}[7d]))","format":"time_series","instant":true,"intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Daily API Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":16,"y":23},"id":20,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\"}[7d]))","format":"time_series","instant":true,"intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Daily Backend Git Operations per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":28},"id":31,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-web\"}[$__interval]))","format":"time_series","interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"🏔Peak Web Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":28},"id":32,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(gitlab_workhorse_http_requests_total{environment=\"gprd\",job=\"gitlab-workhorse-api\"}[$__interval]))\n","format":"time_series","interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"🏔Peak API Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":16,"y":28},"id":33,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" reqs/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\"}[$__interval]))","format":"time_series","interval":"1m","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"🏔Peak Backend Git Requests per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":33},"id":49,"panels":[],"title":"Git User Operations","type":"row"},{"content":"# Git Pull Operations (ssh + https)\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":0,"y":34},"id":55,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# Git Push Operations (ssh + https)\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":8,"y":34},"id":56,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":37},"id":8,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git pull ops/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHUploadPack\"}[1m]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostUploadPack\"}[1m]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Git Pull Operations per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":37},"id":50,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git push ops/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHReceivePack\"}[1m]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostReceivePack\"}[1m]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","intervalFactor":10,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current Git Push Operations per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"description":"","format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":42},"id":53,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git pull ops/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHUploadPack\"}[$__interval]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostUploadPack\"}[$__interval]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"1d","timeShift":null,"title":"🏔Peak Daily Git Pull Operations per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"description":"","format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":42},"id":54,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git push ops/sec","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHReceivePack\"}[$__interval]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostReceivePack\"}[$__interval]))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"1d","timeShift":null,"title":"🏔Peak Daily Git Push Operations per Second","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":47},"id":51,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git pull ops/day","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHUploadPack\"}[7d]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostUploadPack\"}[7d])) * 86400\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","intervalFactor":2,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Git Pull Operations per Day","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-01-inf-gprd","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":47},"id":52,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" git push ops/day","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"SSHReceivePack\"}[7d]) or rate(grpc_server_started_total{environment=\"gprd\", grpc_method=\"PostReceivePack\"}[7d])) * 86400\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","format":"time_series","interval":"1m","intervalFactor":2,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Git Push Operations per Day","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":52},"id":17,"panels":[],"title":"Unique Registered User Activity","type":"row"},{"content":"# Unique Registered Web Users\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":0,"y":53},"id":40,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# Unique Registered API Users\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":8,"y":53},"id":41,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":56},"id":25,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.production\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"1h","timeShift":null,"title":"Unique Registered Users over past hour (Web)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":56},"id":26,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.api\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"1h","timeShift":null,"title":"Unique Registered Users over past hour (API)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":61},"id":13,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.production\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"1d","timeShift":null,"title":"Unique Registered Users over past day (Web)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":61},"id":14,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.api\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"1d","timeShift":null,"title":"Unique Registered Users over past day (API)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":66},"id":10,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.production\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Unique Registered Users over past 7 days (Web)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"es-gitlab-production","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":66},"id":11,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" unique users","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"Unique Count","targets":[{"bucketAggs":[{"field":"json.tag.keyword","id":"2","settings":{"min_doc_count":1,"order":"desc","orderBy":"_term","size":"10"},"type":"terms"}],"expr":"","format":"time_series","intervalFactor":1,"metrics":[{"field":"json.username.keyword","id":"1","meta":{},"settings":{},"type":"cardinality"}],"query":"json.tag.keyword:\"rails.api\"","refId":"A","timeField":"@timestamp"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Unique Registered Users over past 7 days (API)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"total"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":71},"id":28,"panels":[],"title":"CI Jobs","type":"row"},{"content":"# CI Runner Fleet\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":0,"y":72},"id":46,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"content":"# CI Pipelines\n\n------------------------------------","gridPos":{"h":3,"w":7,"x":8,"y":72},"id":47,"links":[],"mode":"markdown","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":75},"id":43,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" servers","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(max(gcp_exporter_instances_count{project=\"gitlab-ci-155816\",tags=~\".*docker-machine.*\"}) without (instance))","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Current GitLab Runner Fleet Size","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-azure","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":75},"id":7,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" jobs","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(gitlab_runner_jobs{state=\"running\"})","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Currently Executing CI Jobs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":80},"id":45,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" servers","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(max(gcp_exporter_instances_count{project=\"gitlab-ci-155816\",tags=~\".*docker-machine.*\"}) without (instance))","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"Average Daily GitLab Runner Fleet Size","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-app-01-inf-gprd","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":80},"id":57,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" jobs / day","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(job_register_attempts_total[1d]) - rate(job_register_attempts_failed_total[1d])) * 86400","format":"time_series","intervalFactor":2,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"Average Number of CI Jobs Per Day","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":0,"y":85},"id":44,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" servers","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(max(gcp_exporter_instances_count{project=\"gitlab-ci-155816\",tags=~\".*docker-machine.*\"}) without (instance))","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"🏔Peak GitLab Runner Fleet Size","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"Global","decimals":null,"description":"","format":"locale","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":5,"w":7,"x":8,"y":85},"id":58,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":" jobs","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(gitlab_runner_jobs{state=\"running\"})","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","timeFrom":"7d","timeShift":null,"title":"🏔Peak Concurrent CI Jobs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"max"}],"schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-7d","to":"now"},"timepicker":{"hidden":true,"nowDelay":"1m","refresh_intervals":[""],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"utc","title":"Vanity Metrics Dashboard","uid":"vanity-metrics","version":1}}